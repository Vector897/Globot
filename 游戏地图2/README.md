# 🌐 Project Atlas - 战略航运地图 (Strategic Maritime Map)

一个基于 WebGL 的高性能地图可视化项目，支持 **3D 地球视图** 和 **2D 平面地图** 两种模式，专为展示全球战略态势、航运线路、海峡/运河及危机情景模拟而设计。

![Project Atlas](https://img.shields.io/badge/Deck.GL-GlobeView%20%7C%20MapView-blue) ![React](https://img.shields.io/badge/React-18-61DAFB) ![H3](https://img.shields.io/badge/H3-Resolution%203-orange)

## 🆕 新增特性: 2D 平面地图

现支持两种视图模式：

| 视图 | 目录 | 描述 |
|-----|------|-----|
| **3D 地球** | `frontend/` | GlobeView 球体视图，支持旋转 |
| **2D 平面** | `2Dmap/` | MapView Mercator 投影，经典平面地图 |

两种视图共享相同的数据和功能：
- 500 艘动态船只
- 6 个危机情景模拟
- 150+ 港口和 10 大海峡
- 完整的 UI 控件

## 🌟 核心功能

### 🗺️ 地图视图
- **3D GlobeView**: 标准地球视图，支持无缝缩放和旋转
- **2D MapView**: Mercator 平面投影，支持无限水平滚动
- **H3 六边形网格**: 基于 Uber H3 (Resolution 3) 的高效地形渲染
- **国界线叠加**: 高清 GeoJSON 国界线

### 🚢 全球航运系统
- **500 艘动态船只**: 模拟全球主要航线上的货船移动
- **150+ 港口**: 覆盖全球主要集装箱港口 (Lloyd's List Top 100)
- **真实航线网络**: 基于 searoute 算法生成的真实海上航线

### ⚓ 海峡与港口图层
- **10 大海峡/运河**: 马六甲、苏伊士、巴拿马、霍尔木兹、直布罗陀等 (橙色标注)
- **全球前 50 大港口**: 按集装箱吞吐量排名 (紫色标注)

### 🚨 危机情景模拟
可切换的历史/假设危机场景：

| 场景 | 时间 | 影响区域 |
|-----|------|---------|
| Red Sea Crisis | 2023-2024 | 曼德海峡、红海、亚丁湾 |
| Hormuz Tension | 2011-2012 | 霍尔木兹海峡、波斯湾 |
| Ukraine War | 2022-至今 | 黑海、敖德萨、克里米亚 |
| COVID Congestion | 2021 | 洛杉矶、上海、鹿特丹、新加坡 |
| Ever Given Suez | Mar 2021 | 苏伊士运河 |
| Taiwan Strait | 假设 | 台湾海峡 |

**危机可视化特性**:
- 红色呼吸灯六边形标记危机区域
- 受影响航线上的船只自动变为红色

### 🎛️ 交互控制
- **Label Size**: 调节国家名称大小
- **Ship Speed**: 调节船只移动速度 (1-10)
- **Ship Size**: 调节船只显示大小 (1-10)

## 🛠️ 技术栈

| 技术 | 用途 |
|-----|-----|
| React 18 + Vite | 前端框架 |
| Deck.GL | WebGL 可视化引擎 |
| H3 | 六边形空间索引 |
| Python + searoute | 航线数据生成 |

## 🚀 快速开始

### 3D 地球视图
```bash
cd frontend
npm install
npm run dev
```

### 2D 平面地图
```bash
cd 2Dmap
npm install
npm run dev
```

访问 http://localhost:5173/

## 📂 目录结构

```
3D_Map/
├── frontend/                 # 3D 地球视图
│   ├── public/data/          # 共享地理数据
│   └── src/App.jsx           # GlobeView 组件
├── 2Dmap/                    # 2D 平面地图 (新增)
│   ├── public/data/          # 共享地理数据副本
│   └── src/App.jsx           # MapView 组件
├── data_pipeline/            # Python 数据生成脚本
└── README.md
```

## 📝 操作说明

| 操作 | 3D 模式 | 2D 模式 |
|-----|--------|--------|
| 拖拽 | 旋转地球 | 平移地图 |
| 滚轮 | 缩放视角 | 缩放视角 |
| 右上角面板 | 切换危机场景 | 切换危机场景 |
| 左上角面板 | 调节显示参数 | 调节显示参数 |

---
*Powered by Deck.GL & H3 | Generated by Antigravity Agent*
